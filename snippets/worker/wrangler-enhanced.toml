# ParqueDB Enhanced Search Worker (v3)
#
# Features: Stemming, prefix matching, scoring, highlighting
#
# Deploy: wrangler deploy --config snippets/worker/wrangler-enhanced.toml

name = "parquedb-search-enhanced"
main = "search-enhanced.ts"
compatibility_date = "2024-09-02"
compatibility_flags = ["nodejs_compat"]

account_id = "b6641681fe423910342b9ffa1364c76d"

[[routes]]
pattern = "cdn.workers.do/search-v3/*"
zone_id = "7cdc309f5238b228485fc7e4ff29772b"

[[r2_buckets]]
binding = "DATA"
bucket_name = "parquedb-search-data"

[observability]
enabled = true

[observability.logs]
enabled = true
invocation_logs = true
